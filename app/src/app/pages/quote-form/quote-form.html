<div class="container py-4">

  <div class="card shadow-sm mx-auto" style="max-width: 650px;">
    <div class="card-body">

      <h3 class="card-title mb-4 d-flex align-items-center gap-2">
        <i class="fa-solid" [class.fa-pen-to-square]="isEdit" [class.fa-quote-left]="!isEdit"></i>
        {{ isEdit ? 'Edit Quote' : 'Add New Quote' }}
      </h3>

      <!-- Loading -->
      <div *ngIf="loading" class="alert alert-info d-flex align-items-center gap-2">
        <i class="fa-solid fa-spinner fa-spin"></i>
        Loading quote data…
      </div>

      <!-- Error -->
      <div *ngIf="error" class="alert alert-danger d-flex align-items-center gap-2">
        <i class="fa-solid fa-circle-exclamation"></i>
        {{ error }}
      </div>

      <!-- Form -->
      <form *ngIf="!loading" (ngSubmit)="submit()" class="mt-3">

        <!-- Quote text -->
        <div class="mb-3">
          <label class="form-label fw-semibold">
            <i class="fa-solid fa-quote-left me-1"></i> Quote
          </label>
          <textarea
            class="form-control"
            [(ngModel)]="quoteData.quote"
            name="quote"
            required
            rows="3"
            placeholder="Enter your favorite quote…"
          ></textarea>
        </div>

        <!-- Author -->
        <div class="mb-3">
          <label class="form-label fw-semibold">
            <i class="fa-solid fa-user-pen me-1"></i> Author
          </label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="quoteData.author"
            name="author"
            placeholder="e.g. Albert Einstein"
          >
        </div>

        <!-- Action buttons -->
        <div class="d-flex justify-content-end gap-3 mt-4">
          <button type="button" class="btn btn-outline-secondary" (click)="cancel()">
            <i class="fa-solid fa-xmark me-1"></i> Cancel
          </button>

          <button type="submit" class="btn btn-primary">
            <i class="fa-solid" [class.fa-floppy-disk]="isEdit" [class.fa-plus]="!isEdit"></i>
            <span class="ms-1">{{ isEdit ? 'Save Changes' : 'Add Quote' }}</span>
          </button>
        </div>

      </form>
    </div>
  </div>
</div>
