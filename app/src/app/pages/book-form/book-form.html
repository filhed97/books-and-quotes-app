<div class="container py-4">

  <div class="card shadow-sm mx-auto" style="max-width: 650px;">
    <div class="card-body">

      <h3 class="card-title mb-4 d-flex align-items-center gap-2">
        <i class="fa-solid" [class.fa-pen-to-square]="isEdit" [class.fa-book]="!isEdit"></i>
        {{ isEdit ? 'Edit Book' : 'Add New Book' }}
      </h3>

      <!-- Loading -->
      <div *ngIf="loading" class="alert alert-info d-flex align-items-center gap-2">
        <i class="fa-solid fa-spinner fa-spin"></i>
        Loading book dataâ€¦
      </div>

      <!-- Error -->
      <div *ngIf="error" class="alert alert-danger d-flex align-items-center gap-2">
        <i class="fa-solid fa-circle-exclamation"></i>
        {{ error }}
      </div>

      <!-- Form -->
      <form *ngIf="!loading" (ngSubmit)="submit()" class="mt-3">

        <!-- Title -->
        <div class="mb-3">
          <label class="form-label fw-semibold">
            <i class="fa-solid fa-heading me-1"></i> Title
          </label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="book.title"
            name="title"
            required
            placeholder="e.g. The Fellowship of the Ring"
          >
        </div>

        <!-- Author -->
        <div class="mb-3">
          <label class="form-label fw-semibold">
            <i class="fa-solid fa-user-pen me-1"></i> Author
          </label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="book.author"
            name="author"
            placeholder="e.g. J.R.R. Tolkien"
          >
        </div>

        <!-- Published -->
        <div class="mb-3">
          <label class="form-label fw-semibold">
            <i class="fa-solid fa-calendar-day me-1"></i> Publication Date
          </label>
          <input
            type="date"
            class="form-control"
            [(ngModel)]="book.published"
            name="published"
          >
        </div>

        <!-- Action buttons -->
        <div class="d-flex justify-content-end gap-3 mt-4">
          <button type="button" class="btn btn-outline-secondary" (click)="cancel()">
            <i class="fa-solid fa-xmark me-1"></i> Cancel
          </button>

          <button type="submit" class="btn btn-primary">
            <i class="fa-solid" [class.fa-floppy-disk]="isEdit" [class.fa-plus]="!isEdit"></i>
            <span class="ms-1">{{ isEdit ? 'Save Changes' : 'Add Book' }}</span>
          </button>
        </div>

      </form>
    </div>
  </div>
</div>
